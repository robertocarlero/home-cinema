---
import { ContactForm } from '@/components/ContactForm';
import { CONTACT_HERO_SECTION } from '@/constants/ui-texts/contact';
import { CONTACT_LINKS } from '@/constants/ui-texts/global';

const items = Array.from({ length: 28 }, (_, i) => {
	const colors = [
		'bg-black',
		'bg-neutral-900',
		'bg-neutral-800',
		'bg-neutral-700',
		'bg-black',
	];
	const position = Math.floor(Math.random() * colors.length);
	const color = colors[position];
	return color;
});
---

<section
	class="class w-screen min-h-screen flex justify-center px-4 sm:px-6 bg-black overflow-hidden"
>
	<div
		class="relative w-full max-w-5xl flex flex-col md:flex-row items-center justify-center gap-12 py-24"
	>
		<div
			class="vignette-overlay absolute scale-105 w-full grid grid-cols-4 grid-rows-6 sm:grid-cols-5 sm:grid-rows-5 lg:grid-cols-7 lg:grid-rows-4 top-1/2 -translate-y-1/2"
		>
			{
				items.map((bg) => (
					<div
						class={`${bg} brightness-50 aspect-square w-full`}
						style="box-shadow: rgb(50, 50, 50) 0px 0px 0px 1px;"
					/>
				))
			}
		</div>
		<div class="z-10 flex flex-col items-start max-w-xl space-y-4">
			<p
				class="text-lg sm:text-xl md:text-2xl text-neutral-500 font-bold"
			>
				{CONTACT_HERO_SECTION.tagline}
			</p>

			<h2 class="text-2xl sm:text-3xl md:text-4xl font-bold">
				{CONTACT_HERO_SECTION.title}
			</h2>

			<p class="text-neutral-500">
				{CONTACT_HERO_SECTION.subtitle}
			</p>

			<p class="text-neutral-500">
				{CONTACT_HERO_SECTION.description}
			</p>

			<div class="space-y-1">
				<p class="text-neutral-500">
					{CONTACT_LINKS.email.label}:
					<a
						class="text-white font-medium hover:text-neutral-300 transition"
						href={CONTACT_LINKS.email.url}
					>
						{CONTACT_LINKS.email.address}
					</a>
				</p>
				<p class="text-neutral-500">
					{CONTACT_LINKS.phone.label}:
					<a
						class="text-white font-medium hover:text-neutral-300 transition"
						href={CONTACT_LINKS.phone.url}
					>
						{CONTACT_LINKS.phone.displayNumber}
					</a>
				</p>
			</div>

			<a
				class="inline-flex items-center justify-center px-4 py-2 mt-4 text-sm font-medium text-white border border-neutral-700 rounded-md hover:bg-neutral-800 transition"
				href={CONTACT_LINKS.whatsapp.url}
				rel="noopener noreferrer"
				target="_blank"
			>
				{CONTACT_LINKS.whatsapp.label}
			</a>
		</div>

		<!-- Form Column -->
		<div
			class="z-10 w-full max-w-md bg-neutral-900 border border-neutral-800 rounded-lg p-6"
		>
			<ContactForm className="w-full h-full" client:idle />
		</div>
	</div>
</section>

<style>
	.vignette-overlay::after {
		content: '';
		scale: 0.999;
		width: 100%;
		height: 100%;
		z-index: 100;
		position: absolute;
		top: 0px;
		left: 0px;
		background: radial-gradient(
			ellipse at center,
			rgba(0, 0, 0, 0) 0%,
			rgba(0, 0, 0, 0.3) 50%,
			black 70%,
			black 100%
		);
		outline: 10px solid black;
		border: 5px solid black;
		box-shadow: black 0px 0px 0px 10px;
	}
</style>
