---
import {
	Monitor,
	Clapperboard,
	Ruler,
	Cable,
	Tablet,
	MonitorSpeaker,
	Shield,
	Speaker,
} from 'lucide-react';

import { SERVICES_GRID_SECTION } from '@/constants/ui-texts/services';

// Map service titles to their corresponding icons
const getIconComponent = (title: string) => {
	const iconMap: Record<string, any> = {
		'Home Cinema Designs': Monitor,
		'Dream Weaver': Clapperboard,
		'Design & Planning': Ruler,
		'Wire Management': Cable,
		'Smart Control & Remotes': Tablet,
		'System Optimization': MonitorSpeaker,
		'The Build': Shield,
		'Acoustic Panels': Speaker,
	};
	return iconMap[title] || Monitor;
};

const services = SERVICES_GRID_SECTION.services.map((service) => ({
	icon: getIconComponent(service.title),
	...service,
}));
---

<section class="w-full items-center gap-24 px-2 relative bg-black">
	<div
		class="relative w-full max-w-5xl mx-auto grid sm:grid-cols-3 py-24 gap-8 sm:gap-y-24"
	>
		<div
			class="absolute grid grid-rows-1 grid-cols-2 sm:grid-cols-3 rounded-t border border-neutral-900 w-full h-full"
		>
			<div></div>

			<div class="border-l sm:border-r border-neutral-900"></div>
			<div></div>
		</div>
		{
			services.map(({ icon: Icon, title, description }) => (
				<article class="z-10 flex flex-row sm:flex-col sm:items-center gap-4 w-full max-w-5xl p-4">
					<div class="mt-1 sm:mt-0 flex items-center justify-center w-10 h-10 sm:w-14 sm:h-14 shrink-0 bg-black rounded-full border border-neutral-500 shadow-[0_0_8px_10px_rgba(255,255,255,0.07)]">
						<Icon className="w-4 h-4 sm:w-6 sm:h-6 text-white" />
					</div>

					<div class="flex flex-col sm:items-center gap-2 sm:gap-4">
						<h3 class="sm:text-center font-semibold text-lg sm:text-2xl text-white">
							{title}
						</h3>

						<p class="sm:text-center text-neutral-500 text-sm sm:text-base">
							{description.map((segment, i) =>
								segment.highlight ? (
									<strong class="text-white">
										{segment.text}
									</strong>
								) : (
									segment.text
								),
							)}
						</p>
					</div>
				</article>
			))
		}
	</div>
</section>
